---
title: "GitHub Copilotのモデル選択方針をADRにシンプルにまとめました"
emoji: "🧐"
type: "idea" # tech or idea
topics:
  - github
  - githubcopilot
  - adr
  - aeon
published: true # false OR true , スケジュール公開の場合はfalseで予約して後からtrueにFix必要
publication_name: "aeonpeople"
---

## はじめに

こんにちは。イオンスマートテクノロジー株式会社（AST）でSREチームの林 aka [もりはや](https://twitter.com/morihaya55)です。

私たちSREチームに限らず、定型作業ではないタスクに日々向き合っていると「判断」のために脳のリソースを消費します。

その場で「判断」して次々とタスクを処理していくのも素晴らしい能力ですが、同様のタスクが今後も発生するようなケースで、改めて他メンバーに判断が発生したり、期間が過ぎれば自分自身すら再度判断が必要になるケースは少なくありません。

SREチームでは、ちょっとした意思決定をADR（Any Decision Record）として残しておくことを推奨しています。

本記事では多くのメンバーが直面する「GitHub Copilotのモデルってたくさんあるけど、どれ使うの？」といった認知負荷を少しでも削減するためのADRについて紹介します。

## TL;DR

本記事を3行に要約すると以下です。

- GitHub Copilotは多様なモデルがある
- 各系統の最新または安定版を使っていけばいいはず
- そのままにしていても、GitHub側がDeprecatedで旧モデルをオフにしてくれる

## GitHub Copilotのモデルの多様さ

ADRの紹介の前に、簡単にGitHub Copilotのモデル対応の多様さを紹介します。
これは選択肢の多さとしては素晴らしいことですが、ユーザにとっては認知負荷にもつながります。

具体的な例として、Visual Studio Code（以降はVSCode）でGitHub Copilotを有効にした場合、以下のように多くのモデル選択が可能となっています。

![before](/images/morihaya-20251107-copilot-model-adr/2025-11-07-01-57-23.png)

＊Haiku 4.5に赤矢印があるのは、出たばかりの頃にメンバーへ紹介した際の画像を利用しているだけで、本記事において深い意味はありません。

数え上げると`Auto`も含めて20もの選択肢があります。

この状態で「迷う方は`Auto`にしておけばいいよ」と考えるのもひとつの正解ですが、生成AIが活況な昨今としては「なんかよくわからんけど適切なモデルを使いたい」と考えるのも当然ではないでしょうか。

結果として成果につながるコーディングの前に、モデル選択の認知負荷が発生するわけです。

## ADRで方針を明確にする

それではADRを紹介します。みていただければわかるようにとてもシンプルです。

シンプルすぎる嫌いはあるかもしれませんが、大事なのは意思決定がドキュメントとして残されていることであり、重厚な文章を作り上げることではないとの前提がチームの共通認識です。


> ### Status/状況
> Accepted
>
> ### Context/背景
> GitHub Copilotには多くのモデルが用意されているが、その全てを使うユーザはおらず、むしろ混乱につながっている可能性がある。
>
> ### Decision/提案・実行したい事項
> モデルは以下の通り多くあるが、各モデルの最新版のみを有効にしていく運用としたい。最新版がPreviewの場合はPreviewおよび安定版の最新を有効とする。
>
> 以降のモデルバージョンは2025-10時点の最新であり、新モデルがリリースされていれば読み替えること。
>
> - Claude の最新版
>   - Sonnet 4.5
>   - Haiku 4.5
> - OpenAI GPTやOシリーズの最新版
>   - GPT-5
>   - GPT-5-Codex
>   - GPT-5 mini
>   - GPT-4o
>   - o4-mini
> - Geminiの最新版
>   - 2.5 Pro
> - Grok Codeの最新版
>   - Fast 1
>
> なお、GPT-5だけ、あるいはSonnet 4.5だけとすることも検討したが、各社主要モデルの選択権はユーザに与えたいと判断した。
>
> ### Consequences/予想される結果
> Copilotを利用するユーザの認知負荷が軽減される。
>
> なお、本方針は生成AIの進化および組織フェーズによって都度見直すべきである。

## 結果としてどうなったか

ではどのように変化したかをVSCodeを例に紹介します。
先に変更前の状態を再掲します。

![before](/images/morihaya-20251107-copilot-model-adr/2025-11-07-01-57-23.png)

続いてADRの方針にしたがって旧モデルをOffにしたあとがこちらです。
変更前に比べて`Auto`を含めたモデル選択の候補が `20 -> 11` と55%まで削減されています。

![after](/images/morihaya-20251107-copilot-model-adr/2025-11-07-02-12-45.png)

## GitHub上の設定方法

旧モデルをオフに設定するのは極めて簡単です。
当社は GitHub Enterprise Cloud with Enterprise Managed Users（以降は単にGitHub）を利用しており、GitHubのOwner権限があれば以下の画面から変更が可能です。

GitHubでは論理的な階層としてEnterprise -> Organizationがあり、上位のEnterpriseで各種ポリシーを強制できますし、Orgへ自由な選択権限を与えてOrg単位でコントロールすることもできます。

ここではわかりやすくEnterpriseの設定画面を採用していますが、先日のGitHub Universeのおかげか新しい「AI Controls」画面にモデル選択が移動していることに本記事を書きながら気づきました。日進月歩ですね。

![copilot-models-select](/images/morihaya-20251107-copilot-model-adr/2025-11-07-02-22-19.png)

見ての通り赤枠で囲った旧モデルをオフにしました。

なおこの話には若干おちがあります。以下Xで@kkamegawaさんにツッコミいただいたようにGitHub側でも旧モデルのDeprecatedがアナウンスされており、遠くないタイミングで旧モデルが無効化される予定です。

ADRのおかげで先行して旧モデルをオフにしましたが、何もしなくてもGitHub側がオフにしてくれるのでした。

https://x.com/kkamegawa/status/1981599052388257865

## おわりに

以上が「GitHub Copilotのモデル選択方針をADRにシンプルにまとめました」の記事でした。

さらっと読んでいただいた方に「なんだ、ADRってこれくらいシンプルなのか」と考えてもらえたら嬉しいです。もちろん重厚で何度もレビューと議論を繰り返すようなADRも存在しますが、まずは叩き台のつもりで書いてみることを個人としては推奨したいです。

私たちSREチームのようにリモートワークが主体な状況であれば、なおさら意思や思考の表明を文章として出すことに価値がありますし、今後の生成AIへコンテキストとしても活用が可能となるでしょう。

それではみなさま Enjoy GitHub Copilot and Writing ADR!!

---

## イオングループで、一緒に働きませんか？

イオングループでは、エンジニアを積極採用中です。少しでもご興味をもった方は、キャリア登録やカジュアル面談登録などもしていただけると嬉しいです。
皆さまとお話できるのを楽しみにしています！

[![イオングループエンジニア採用バナー](https://storage.googleapis.com/techhire-prd-assets/AEON/ATH_engineer_Zenn%E3%83%8F%E3%82%99%E3%83%8A%E3%83%BC.png)](https://engineer-recruiting.aeon.info/)
